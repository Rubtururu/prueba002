!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n((t=t||self).window=t.window||{})}(this,function(t){"use strict";function n(){return o||"undefined"!=typeof window&&(o=window.gsap)}function e(t){return f(t).id}function p(t){return h[e("string"==typeof t?d(t)[0]:t)]}function r(t){var n,e=s;if(.05<=t-u)for(u=t;e;)((n=e.g(e.t,e.p))!==e.v1||.2<t-e.t1)&&(e.v2=e.v1,e.v1=n,e.t2=e.t1,e.t1=t),e=e._next}function l(){(o=n())&&(d=o.utils.toArray,a=o.utils.getUnit,f=o.core.getCache,c=o.ticker,g=1)}function i(t,n,e,i){this.t=t,this.p=n,this.g=t._gsap.get,this.rCap=v[e||a(this.g(t,n))],this.v1=this.v2=0,this.t1=this.t2=c.time,i&&((this._next=i)._prev=this)}var o,g,d,a,s,c,u,f,h={},v={deg:360,rad:2*Math.PI},m=function(){function f(t,n){g||l(),this.target=d(t)[0],(h[e(this.target)]=this)._props={},n&&this.add(n)}f.register=function(t){o=t,l()};var t=f.prototype;return t.get=function(t,n){var e=this._props[t]||console.warn("Not tracking "+t+" velocity."),i=parseFloat(n?e.v1:e.g(e.t,e.p))-parseFloat(e.v2);return(t=e.rCap)&&(i%=t)!=i%(t/2)&&(i=i<0?i+t:i-t),e=i/((n?e.t1:c.time)-e.t2),Math.round(1e4*e)/1e4},t.getAll=function(){var t,n={};for(t in this._props)n[t]=this.get(t);return n},t.isTracking=function(t){return t in this._props},t.add=function(t,n){t in this._props||(s||(c.add(r),u=c.time),s=this._props[t]=new i(this.target,t,n,s))},t.remove=function(t){var n,e,i=this._props[t];i&&(n=i._prev,e=i._next,n&&(n._next=e),e?e._prev=n:s===i&&(c.remove(r),s=0),delete this._props[t])},t.kill=function(t){for(var n in this._props)this.remove(n);t||delete h[e(this.target)]},f.track=function(t,n,e){g||l();for(var i,r,o=[],a=d(t),s=n.split(","),c=(e||"").split(","),u=a.length;u--;){for(i=p(a[u])||new f(a[u]),r=s.length;r--;)i.add(s[r],c[r]||c[0]);o.push(i)}return o},f.untrack=function(t,n){var e=(n||"").split(",");d(t).forEach(function(t){var n=p(t);n&&(e.length?e.forEach(function(t){return n.remove(t)}):n.kill(1))})},f.isTracking=function(t,n){t=p(t);return t&&t.isTracking(n)},f.getVelocity=function(t,n){t=p(t);return t&&t.isTracking(n)?t.get(n):console.warn("Not tracking velocity of "+n)},f}();function y(){return _||"undefined"!=typeof window&&(_=window.gsap)&&_.registerPlugin&&_}function x(t){return"number"==typeof t}function T(t){return"object"==typeof t}function F(t){return"function"==typeof t}function P(t){return t}function w(t,n,e,i,r){var o,a,s,c,u=n.length,f=0,p=H;if(T(t)){for(;u--;){for(s in o=n[u],a=0,t)a+=(c=o[s]-t[s])*c;a<p&&(f=u,p=a)}if((r||H)<H&&r<Math.sqrt(p))return t}else for(;u--;)(a=(o=n[u])-t)<0&&(a=-a),a<p&&i<=o&&o<=e&&(f=u,p=a);return n[f]}function N(t,n,e,i,r,o,a){if("auto"===t.end)return t;var s,c,u=t.end;if(e=isNaN(e)?H:e,i=isNaN(i)?-H:i,T(n)){if(s=!n.calculated&&(F(u)?u(n,a):w(n,u,e,i,o))||n,!n.calculated){for(c in s)n[c]=s[c];n.calculated=!0}s=s[r]}else s=F(u)?u(n,a):G(u)?w(n,u,e,i,o):parseFloat(u);return e<s?s=e:s<i&&(s=i),{max:s,min:s,unitFactor:t.unitFactor}}function M(t,n,e){return isNaN(t[n])?e:+t[n]}function b(t,n){return.05*n*t/q}function A(t,n,e){return Math.abs((n-t)*q/e/.05)}function C(t,n,e,i){if(n.linkedProps){for(var r,o,a,s,c=n.linkedProps.split(","),u={},f=0;f<c.length;f++)(s=n[r=c[f]])&&(o=x(s.velocity)?s.velocity:(a=a||D(t))&&a.isTracking(r)?a.get(r):0,s=Math.abs(o/M(s,"resistance",i)),u[r]=parseFloat(e(t,r))+b(o,s));return u}}function O(){(_=y())&&(k=_.parseEase,j=_.utils.toArray,R=_.utils.getUnit,U=_.core.getCache,S=_.utils.clamp,B=k("power3"),q=B(.05),V=_.core.PropTween,_.config({resistance:100,unitFactors:{time:1e3,totalTime:1e3,progress:1e3,totalProgress:1e3}}),I=_.config(),_.registerPlugin(m),E=1)}m.getByTarget=p,n()&&o.registerPlugin(m);var _,E,k,j,B,I,R,V,U,q,S,z,D=m.getByTarget,G=(function(){String.fromCharCode.apply(null,arguments)}(103,114,101,101,110,115,111,99,107,46,99,111,109),window&&window.location.host,Array.isArray),H=1e10,J={resistance:1,checkpoint:1,preventOvershoot:1,linkedProps:1,radius:1,duration:1},K={version:"3.8.0",name:"inertia",register:function(t){_=t,O()},init:function(t,n,e,i,r){E||O();var o=D(t);if("auto"===n){if(!o)return void console.warn("No inertia tracking on "+t+". InertiaPlugin.track(target) first.");n=o.getAll()}this.target=t,this.tween=e,z=n;var a,s,c,u,f,p,l,g,d,h=t._gsap,v=h.get,m=n.duration,y=T(m),w=n.preventOvershoot||y&&0===m.overshoot,_=M(n,"resistance",I.resistance),k=x(m)?m:function(t,n,e,i,r,o){if(void 0===e&&(e=10),void 0===i&&(i=.2),void 0===r&&(r=1),void 0===o&&(o=0),"string"==typeof t&&(t=j(t)[0]),!t)return 0;var a,s,c,u,f,p,l,g,d,h=0,v=H,m=n.inertia||n,y=U(t).get,w=M(m,"resistance",I.resistance),_=C(t,m,y,w);for(a in m)J[a]||(s=m[a],T(s)||((g=g||D(t))&&g.isTracking(a)?s=x(s)?{velocity:s}:{velocity:g.get(a)}:(u=+s||0,c=Math.abs(u/w))),T(s)&&(u=x(s.velocity)?s.velocity:(g=g||D(t))&&g.isTracking(a)?g.get(a):0,c=S(i,e,Math.abs(u/M(s,"resistance",w))),p=(f=parseFloat(y(t,a))||0)+b(u,c),"end"in s&&(s=N(s,_&&a in _?_:p,s.max,s.min,a,m.radius,u),o&&(z===n&&(z=m=function t(n){var e,i,r={};for(e in n)r[e]=T(i=n[e])&&!G(i)?t(i):i;return r}(n)),m[a]=function(t,n,e){for(var i in n)i in t||i===e||(t[i]=n[i]);return t}(s,m[a],"end"))),"max"in s&&p>+s.max+1e-10?(d=s.unitFactor||I.unitFactors[a]||1,(l=f>s.max&&s.min!==s.max||-15<u*d&&u*d<45?i+.1*(e-i):A(f,s.max,u))+r<v&&(v=l+r)):"min"in s&&p<s.min-1e-10&&(d=s.unitFactor||I.unitFactors[a]||1,(l=f<s.min&&s.min!==s.max||-45<u*d&&u*d<15?i+.1*(e-i):A(f,s.min,u))+r<v&&(v=l+r)),h<l&&(h=l)),h<c&&(h=c));return v<h&&(h=v),e<h?e:h<i?i:h}(t,n,y&&m.max||10,y&&m.min||.2,y&&"overshoot"in m?+m.overshoot:w?0:1,!0);for(a in n=z,z=0,d=C(t,n,v,_),n)J[a]||(s=n[a],F(s)&&(s=s(i,t,r)),x(s)?f=s:T(s)&&!isNaN(s.velocity)?f=+s.velocity:o&&o.isTracking(a)?f=o.get(a):console.warn("ERROR: No velocity was defined for "+t+" property: "+a),p=b(f,k),g=0,c=v(t,a),u=R(c),c=parseFloat(c),T(s)&&(l=c+p,"end"in s&&(s=N(s,d&&a in d?d:l,s.max,s.min,a,n.radius,f)),"max"in s&&+s.max<l?w||s.preventOvershoot?p=s.max-c:g=s.max-c-p:"min"in s&&+s.min>l&&(w||s.preventOvershoot?p=s.min-c:g=s.min-c-p)),this._props.push(a),this._pt=new V(this._pt,t,a,c,0,P,0,h.set(t,a,this)),this._pt.u=u||0,this._pt.c1=p,this._pt.c2=g);e.duration(k)},render:function(t,n){var e,i=n._pt;for(t=B(n.tween._time/n.tween._dur);i;)i.set(i.t,i.p,(e=i.s+i.c1*t+i.c2*t*t,Math.round(1e4*e)/1e4+i.u),i.d,t),i=i._next}};"track,untrack,isTracking,getVelocity,getByTarget".split(",").forEach(function(t){return K[t]=m[t]}),y()&&_.registerPlugin(K),t.InertiaPlugin=K,t.VelocityTracker=m,t.default=K,"undefined"==typeof window||window!==t?Object.defineProperty(t,"__esModule",{value:!0}):delete t.default});